<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scotsman Hotel - Luxury Travel Options</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://use.typekit.net/xxxxxxx.css"> <!-- Replace with actual Aviano font kit -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'scotsman-gold': '#C5A572',
                        'dark-bg': '#1a1a1a',
                    },
                    fontFamily: {
                        'optima': ['Optima', 'Montserrat', 'sans-serif'],
                        'aviano': ['Aviano', 'serif'],
                    }
                }
            }
        }
        
        // Add function to toggle legend visibility
        document.addEventListener('DOMContentLoaded', function() {
            const legendToggle = document.getElementById('legend-toggle');
            const legendContent = document.getElementById('legend-content');
            
            if (legendToggle && legendContent) {
                legendToggle.addEventListener('click', function() {
                    if (legendContent.classList.contains('hidden')) {
                        legendContent.classList.remove('hidden');
                        legendToggle.innerHTML = '‚úï';
                        legendToggle.classList.add('bg-red-600');
                        legendToggle.classList.remove('bg-scotsman-gold');
                    } else {
                        legendContent.classList.add('hidden');
                        legendToggle.innerHTML = 'üîç';
                        legendToggle.classList.remove('bg-red-600');
                        legendToggle.classList.add('bg-scotsman-gold');
                    }
                });
            }
            
            // Check if mobile and collapse by default
            function checkMobile() {
                if (window.innerWidth < 768 && legendContent && legendToggle) {
                    legendContent.classList.add('hidden');
                    legendToggle.innerHTML = 'üîç';
                    legendToggle.classList.remove('bg-red-600');
                    legendToggle.classList.add('bg-scotsman-gold');
                }
            }
            
            // Run on load and resize
            checkMobile();
            window.addEventListener('resize', checkMobile);
        });
    </script>
    <style>
        @font-face {
            font-family: 'Optima';
            src: url('https://fonts.cdnfonts.com/css/optima') format('woff2');
        }
        
        /* Custom styles that can't be handled by Tailwind */
        .map-container {
            height: calc(100vh - 220px);
            min-height: 400px;
            display: flex;
            flex-direction: column;
        }
        
        /* Fix for Folium map container to fill available space */
        .map-container .folium-map {
            flex: 1;
            width: 100%;
            height: 100%;
        }
        
        /* Fix for Folium iframe */
        .folium-map iframe {
            width: 100% !important;
            height: 100% !important;
            display: block;
            border: none;
        }
        
        /* Remove any default margins or padding */
        .leaflet-container {
            margin: 0 !important;
            padding: 0 !important;
        }
        
        @media (max-width: 640px) {
            .map-container {
                height: calc(100vh - 180px);
            }
            .legend {
                max-width: 80% !important;
                right: 10px !important;
                bottom: 10px !important;
                font-size: 0.8rem !important;
                background-color: rgba(0, 0, 0, 0.85) !important;
            }
            .legend h5 {
                font-size: 1rem !important;
            }
            .legend-toggle {
                position: fixed;
                bottom: 10px;
                right: 10px;
                width: 40px;
                height: 40px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 18px;
                cursor: pointer;
                z-index: 1001;
                border: 2px solid white;
            }
        }
    </style>
</head>
<body class="font-optima bg-dark-bg text-white m-0 p-0">
    <div class="bg-black bg-opacity-90 text-white p-4 md:p-8 text-center border-b border-scotsman-gold">
        <img src="{{ url_for('static', filename='TSH_Logos_Main_White_RGB.png') }}" alt="The Scotsman Hotel Logo" class="max-w-[180px] md:max-w-[200px] mx-auto mb-4 md:mb-6 transition-opacity duration-300 hover:opacity-80">
        <h1 class="font-aviano font-bold text-xl md:text-2xl text-white mb-1 md:mb-2 tracking-wider uppercase">THE SCOTSMAN HOTEL</h1>
        <p class="font-aviano text-scotsman-gold text-sm md:text-lg tracking-wide">Luxury Travel Options to Niagara Falls</p>
    </div>
    
    <div class="max-w-7xl mx-auto px-4 md:px-8">
        <ul class="flex border-b border-scotsman-gold mb-4 mt-4 overflow-x-auto">
            <li class="mr-1">
                <a class="inline-block px-4 py-2 md:px-8 md:py-3 font-aviano text-scotsman-gold hover:text-white hover:border-scotsman-gold transition-all duration-300 text-sm md:text-base tracking-wide {{ 'text-white bg-scotsman-gold bg-opacity-10 border-scotsman-gold border-b-2' if aircraft_type == 'challenger' else '' }}" href="?aircraft=challenger">
                    <span class="mr-2">‚úàÔ∏è</span> Challenger 350
                </a>
            </li>
            <li>
                <a class="inline-block px-4 py-2 md:px-8 md:py-3 font-aviano text-scotsman-gold hover:text-white hover:border-scotsman-gold transition-all duration-300 text-sm md:text-base tracking-wide {{ 'text-white bg-scotsman-gold bg-opacity-10 border-scotsman-gold border-b-2' if aircraft_type == 'bell429' else '' }}" href="?aircraft=bell429">
                    <span class="mr-2">üöÅ</span> Bell 429 Helicopter
                </a>
            </li>
        </ul>

        <div class="map-container relative border border-scotsman-gold rounded-md overflow-hidden mb-4 flex flex-col">
            <div class="folium-map w-full h-full flex-1">
                {{ map_html | safe }}
            </div>
            
            <div class="legend fixed bottom-[30px] right-[30px] bg-black bg-opacity-90 p-4 rounded-md shadow-lg z-[1000] border-2 border-scotsman-gold text-white max-w-[300px] min-w-[250px]">
                <div id="legend-content">
                    <h5 class="text-scotsman-gold font-aviano mb-4 text-lg tracking-wide uppercase text-center border-b border-scotsman-gold pb-2">{{ aircraft_name }} Routes</h5>
                    {% if aircraft_type == 'challenger' %}
                    <div class="flex items-center my-2">
                        <div class="w-5 h-5 mr-4 rounded-full bg-red-600 flex-shrink-0"></div>
                        <span>Niagara Falls Airport</span>
                    </div>
                    <div class="flex items-center my-2">
                        <div class="w-5 h-5 mr-4 rounded-full bg-blue-600 flex-shrink-0"></div>
                        <span>Origin Airports</span>
                    </div>
                    <div class="flex items-center my-2">
                        <div class="w-5 h-5 mr-4 rounded-full bg-green-600 flex-shrink-0"></div>
                        <span>Flight Routes</span>
                    </div>
                    <div class="flex items-center my-2">
                        <div class="w-5 h-5 mr-4 rounded-full border-2 border-orange-500 flex-shrink-0"></div>
                        <span>{{ range_text }}</span>
                    </div>
                    {% else %}
                    <div class="flex items-center my-2">
                        <div class="w-5 h-5 mr-4 rounded-full bg-red-600 flex-shrink-0"></div>
                        <span>The Scotsman Hotel (Niagara-on-the-Lake)</span>
                    </div>
                    <div class="flex items-center my-2">
                        <div class="w-5 h-5 mr-4 rounded-full bg-blue-600 flex-shrink-0"></div>
                        <span>Destinations</span>
                    </div>
                    <div class="flex items-center my-2">
                        <div class="w-5 h-5 mr-4 rounded-full bg-green-600 flex-shrink-0"></div>
                        <span>Flight Routes</span>
                    </div>
                    <div class="flex items-center my-2">
                        <div class="w-5 h-5 mr-4 rounded-full border-2 border-orange-500 flex-shrink-0"></div>
                        <span>{{ range_text }}</span>
                    </div>
                    {% endif %}
                </div>
                <button id="legend-toggle" class="legend-toggle bg-scotsman-gold hidden md:hidden">üîç</button>
            </div>
        </div>
    </div>
</body>
</html> 